{% extends "base.html" %}
{% block content %}
<h3>Actualizar Producto</h3>
<form method="post">
  {% csrf_token %}
  <div class="mb-3">
    <label class="form-label">Nombre</label>
    <input name="nombre" class="form-control" value="{{ producto.nombre }}" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Descripción</label>
    <textarea name="descripcion" class="form-control">{{ producto.descripcion }}</textarea>
  </div>
  <div class="mb-3">
    <label class="form-label">Precio Venta</label>
    <input name="precio_venta" type="number" step="0.01" class="form-control" value="{{ producto.precio_venta }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Stock</label>
    <input name="stock" type="number" class="form-control" value="{{ producto.stock }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Código de Barras</label>
    <input name="codigo_barras" class="form-control" value="{{ producto.codigo_barras }}">
  </div>
  
  <div class="mb-3">
    <label class="form-label">Categoría</label>
    <select name="categoria" class="form-select">
        <option value="">(Ninguna)</option>
        {% for c in categorias %}
            <option value="{{ c.id }}" {% if c.id == producto.categoria.id %}selected{% endif %}>
                {{ c.nombre }}
            </option>
        {% endfor %}
    </select>
  </div>
  
  <div class="mb-3">
    <label class="form-label">Proveedores</label>
    <select name="proveedores" class="form-select" multiple size="5">
        {% for p in proveedores %}
            <option value="{{ p.id }}" {% if p in producto.proveedores.all %}selected{% endif %}>
                {{ p.nombre_empresa }}
            </option>
        {% endfor %}
    </select>
    <small class="form-text text-muted">Mantén presionado Ctrl (o Cmd en Mac) para seleccionar varios.</small>
  </div>
  
  <button class="btn btn-primary">Actualizar</button>
</form>
{% endblock %}