{% extends "base.html" %}

{% block content %}
<h3>Registrar Nuevo Movimiento de Inventario</h3>
<form method="post">
  {% csrf_token %}
  <div class="mb-3">
    <label class="form-label">Producto</label>
    <select name="producto" class="form-control" required>
        <option value="">Selecciona un producto</option>
        {% for producto in productos %}
            <option value="{{ producto.id }}">{{ producto.nombre }} (Stock: {{ producto.stock }})</option>
        {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Tipo de Movimiento</label>
    <select name="tipo_movimiento" class="form-control" required>
        {% for code, label in tipos_movimiento %}
            <option value="{{ code }}">{{ label }}</option>
        {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Cantidad</label>
    <input name="cantidad" type="number" min="1" class="form-control" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Razón / Descripción</label>
    <textarea name="razon" class="form-control" required></textarea>
  </div>
  <div class="mb-3">
    <label class="form-label">Responsable (Opcional)</label>
    <input name="responsable" class="form-control">
  </div>
  
  <button class="btn btn-primary">Registrar Movimiento</button>
  <a class="btn btn-secondary" href="{% url 'ver_movimientos_inventario' %}">Cancelar</a>
</form>
{% endblock %}